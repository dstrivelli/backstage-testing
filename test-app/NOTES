Backstage Notes
===============

TODO:
- Get one of the existing software templates to properly template/render/push
- Create TechDocs Component from software template 
- Render TechDocs and View 
- Create/Register a few existing software components (catalog-info.yml)
- Pair an API Doc to a registered component using consumedBy:
- Pair TechDoc to a registered component
- Build a software component based on an archetype repo??
- Build a pair of repos based on archetype-service and archetype-config?


- FrontEnd
	- packages/app
	- yarn build
	- This (dist) gets built into an nginx docker container
	- Brought Dockerfile and support files from backstage main repo

- BackEnd
	- packages/backend
	- yarn build
	- yarn build-image
	- This (dist) gets built into a node docker container
	- Brought and highly modified Dockerfile from https://github.com/backstage/backstage/blob/master/
	contrib/docker/kubernetes-example-backend/Dockerfile and high

- Deploying to MiniKube
	- Launch minikube with `minikube start --vm-driver=virtualbox`
	- Use `minikube ip` to get VM's IP address, add entry to /etc/hosts to point domain to IP
	- Use `eval $(minikube docker-env)` to point docker context at minikube
	- Can either build images directly into minikube using docker build or
	- Can add to minikube image cache if built externally using `minikube cache add image:tag`
	- Make sure the Kubernetes namespaces is clean, including PVCs
	- Will need to manually add TLS secret to Kubernetes namespace
	

- API Docs
	- This works out of box. An API Specification needs to be published in a GitHub Repo
	- Once the component is registered, its metadata and API definition is visible in the backstage UI

- Tech Docs
	- In the local configuration, this requires that python/mkdocs be built into the backend container
	- A proper deployment would offload the rendering to another container and would host the rendered results statically


- Software Catalogue
	- Populated with demo data from Spotify
	- Demo Data URLs in the contrib/chart/backstage helm chart is no longer valid


- Software Template


- Deploying to ALT8

